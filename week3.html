<!DOCTYPE html>
<html>
<head>
  <script async src="https://unpkg.com/es-module-shims@1.3.6/dist/es-module-shims.js"></script>

<script type="importmap">
{
"imports": {
"three": "https://unpkg.com/three/build/three.module.js",
"GLTFLoader":
"https://unpkg.com/three/examples/jsm/loaders/GLTFLoader.js"
}
}
</script>
</head>
<body>

<script type="module">
import {GLTFLoader} from "https://unpkg.com/three/examples/jsm/loaders/GLTFLoader.js";
import * as THREE from "https://unpkg.com/three/build/three.module.js";

export const loadGLTF = (path) => {
return new Promise((resolve, reject) => { const loader = new GLTFLoader(); loader.load(path, (gltf) => {
resolve(gltf);
});
});
}

export const loadAudio = (path) => {
return new Promise((resolve, reject) => { const loader = new THREE.AudioLoader(); loader.load(path, (buffer) => {
resolve(buffer);
});
});
}

export const loadVideo = (path) => {
return new Promise((resolve, reject) => {
const video = document.createElement("video"); video.addEventListener('loadeddata', () => {
video.setAttribute('playsinline', ''); resolve(video);
});

video.src = path;
});
}

export const loadTexture = (path) => { return new Promise((resolve, reject) => {
const loader = new THREE.TextureLoader(); loader.load(path, (texture) => {
resolve(texture);
});
});
}

export const loadTextures = (paths) => { const loader = new THREE.TextureLoader(); const promises = [];
for (let i = 0; i < paths.length; i++) { promises.push(new Promise((resolve, reject) => {
loader.load(paths[i], (texture) => { resolve(texture);
});
}));
}
return Promise.all(promises);
}
</script>


</body>
</html>
